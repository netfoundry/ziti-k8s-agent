apiVersion: kubernetes.openziti.io/v1alpha1
kind: ZitiWebhook
metadata:
  labels:
    app.kubernetes.io/name: ziti-operator
    app.kubernetes.io/managed-by: kustomize
  name: zitiwebhook-sample
  namespace: ziti
spec:
  # name: zitiwebhook-sample
  # zitiControllerName: ziticontroller-sample
  deploymentSpec:
    image: elblag91/ziti-k8s-agent
    imageVersion: 0.3.8
    # env:
    #   # zitiCtrlMgmtApi: https://8ed15bea-5603-485e-8579-a2971d2da684.production.netfoundry.io:443/edge/management/v1
      # sidecarImageVersion: 1.4.2
    logLevel: 4
  #   replicas: 1

  # mutatingWebhookSpec:
  #   objectSelector:
  #     matchExpressions:
  #     - key:  tunnel.openziti.io/enabled
  #       operator: In
  #       values: 
  #       - "true"
  #       - "false"